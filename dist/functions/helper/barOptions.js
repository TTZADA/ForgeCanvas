"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const forgescript_1=require("@tryforge/forgescript");exports.default=new forgescript_1.NativeFunction({name:"$barOptions",description:"Sets options for progress bars.",version:"1.2.0",brackets:!0,unwrap:!0,args:[{name:"options",description:"Options (type:normal/ratio/pie, draw-type:fill/stroke/clear/none, background-style:color/gradient/pattern, background-radius:number, background-padding:number, background-type:fill/stroke/clear/none, radius:number, direction:horizontal/vertical, clip-radius:number, left:number).",type:forgescript_1.ArgType.String,required:!0,rest:!0}],async execute(i,[s]){const c=s.map(o=>{const a=o.trim().split(":");return[a[0],a.slice(1)]}),r=i.getEnvironmentKey("progressBarOptions")??{};for(const[o,a]of c){const e=a;switch(o){case"type":if(!["normal","pie","none"].includes(e[0]))return this.customError("Invalid type");r.type=e[0]!=="none"?e[0]:void 0;break;case"draw-type":if(!["fill","stroke","clear","none"].includes(e[0]))return this.customError("Invalid draw type");r["draw-type"]=e[0]!=="none"?e[0]:void 0;break;case"background-style":r["background-style"]=e[0]!=="none"?e.join(":"):void 0;break;case"background-radius":{const n=e.map(t=>Number.parseFloat(t));r[o]=e[0]!=="none"?n.length===1?n[0]:n:void 0;break}case"background-padding":r["background-padding"]=e[0]!=="none"?Number.parseFloat(e[0]):void 0;break;case"background-type":if(!["fill","stroke","clear","none"].includes(e[0]))return this.customError("Invalid background type");r["background-type"]=e[0]!=="none"?e[0]:void 0;break;case"radius":{const n=e.map(t=>Number.parseFloat(t));r.radius=e[0]!=="none"?n.length===1?n[0]:n:void 0;break}case"direction":if(!["horizontal","vertical","none"].includes(e[0]))return this.customError("Invalid direction");r.direction=e[0]!=="none"?e[0]:void 0;break;case"clip-radius":{const n=e.map(t=>Number.parseFloat(t));r["clip-radius"]=e[0]!=="none"?n.length===1?n[0]:n:void 0;break}case"left":r.left=e[0]!=="none"?e.join(":"):void 0;break;default:return this.customError(`Unknown bar option: ${o}`)}}return i.setEnvironmentKey("progressBarOptions",r),this.success()}});
