"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const forgescript_1=require("@tryforge/forgescript");exports.default=new forgescript_1.NativeFunction({name:"$barOptions",description:"Sets options for progress bars.",version:"1.2.0",brackets:!0,unwrap:!0,args:[{name:"options",description:"Options (type:normal/ratio/pie, draw-type:fill/stroke/clear/none, background-style:color/gradient/pattern, background-radius:number, background-padding:number, background-type:fill/stroke/clear/none, radius:number, direction:horizontal/vertical, clip-radius:number, left:number).",type:forgescript_1.ArgType.String,required:!0,rest:!0}],async execute(d,[u]){const c=u.map(n=>{const o=n.trim().split(":");return[o[0],o.slice(1)]}),r=d.getEnvironmentKey("progressBarOptions")??{};for(let[n,o]of c){const e=o;switch(n){case"type":if(!["normal","pie","none"].includes(e[0]))return this.customError("Invalid type");r.type=e[0]!=="none"?e[0]:void 0;break;case"draw-type":if(!["fill","stroke","clear","none"].includes(e[0]))return this.customError("Invalid draw type");r["draw-type"]=e[0]!=="none"?e[0]:void 0;break;case"background-style":r["background-style"]=e[0]!=="none"?e.join(":"):void 0;break;case"background-radius":const a=e.map(t=>parseFloat(t));r[n]=e[0]!=="none"?a.length===1?a[0]:a:void 0;break;case"background-padding":r["background-padding"]=e[0]!=="none"?parseFloat(e[0]):void 0;break;case"background-type":if(!["fill","stroke","clear","none"].includes(e[0]))return this.customError("Invalid background type");r["background-type"]=e[0]!=="none"?e[0]:void 0;break;case"radius":const i=e.map(t=>parseFloat(t));r.radius=e[0]!=="none"?i.length===1?i[0]:i:void 0;break;case"direction":if(!["horizontal","vertical","none"].includes(e[0]))return this.customError("Invalid direction");r.direction=e[0]!=="none"?e[0]:void 0;case"clip-radius":const s=e.map(t=>parseFloat(t));r["clip-radius"]=e[0]!=="none"?s.length===1?s[0]:s:void 0;break;case"left":r.left=e[0]!=="none"?e.join(":"):void 0;break;default:return this.customError(`Unknown bar option: ${n}`)}}return d.setEnvironmentKey("progressBarOptions",r),this.success()}});
