"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const forgescript_1=require("@tryforge/forgescript"),discord_js_1=require("discord.js"),__1=require("../../");exports.default=new forgescript_1.NativeFunction({name:"$attachCanvas",aliases:["$sendCanvas","$renderCanvas","$canvasRender"],description:"Attaches the canvas.",version:"1.0.0",brackets:!0,unwrap:!0,args:[{name:"canvas",description:"Name of the canvas.",type:forgescript_1.ArgType.String,required:!0,rest:!1},{name:"filename",description:"The name with the extension of the image to be attached as.",type:forgescript_1.ArgType.String,required:!1,rest:!1},{name:"format",description:"The image format.",type:forgescript_1.ArgType.Enum,enum:__1.ImageFormat,required:!1,rest:!1}],async execute(r,[a,s,e]){const t=r.canvasManager?.get(a)?.ctx?.canvas;return t?(r.container.files.push(new discord_js_1.AttachmentBuilder(t.toBuffer(e!==null?"image/"+(typeof e=="number"?__1.ImageFormat[e]:e):"image/png"),{name:s??`${a}.png`})),this.success()):this.customError("No canvas")}});
